# 트랜잭션 전파

트랜잭션이 개별적으로 쓰이지 않고 트랜잭션 안에서 또다른 트랜잭션이 시작되면 두 개의 트랜잭션을 하나인 것처럼 바라봐야 할까, 별도의 것으로 바라봐야 할까? 

별도로 바라본다면 내부의 트랜잭션이 롤백되었을 때 외부의 트랜잭션은 어디까지 롤백해야 될까? 

트랜잭션 안에 트랜잭션이 존재하는 형태에서 위와 같은 고민들로 생겨나는 다양한 동작방식을 트랜잭션 전파라고 한다.

## 스프링이 제공하는 트랜잭션 전파

스프링이 제공하는 트랜잭션 전파는 내부의 트랜잭션 중 어느 하나라도 롤백되면 외부 트랜잭션까지 전체가 롤백되도록 하는 방식을 기본으로 설정하고 있다.

그리고 이해를 돕기 위해 논리 트랜잭션과 물리 트랜잭션이라는 이름을 붙여 개념화하는데, 논리 트랜잭션은 하나의 물리 트랜잭션으로 묶인다. 즉, 트랜잭션 안에서 시작되는 트랜잭션은 논리 트랜잭션이고 바깥에서 최초로 시작되었던 트랜잭션이 물리 트랜잭션이라고 이름 붙인 것이다.

물리 트랜잭션은 실제 DB에 적용되는 트랜잭션으로 커넥션을 통해 트랜잭션을 시작하고 커밋, 롤백하는 **단위**이다. 

그리고 논리 트랜잭션은 트랜잭션 매니저를 통해 트랜잭션을 사용하는 단위이다.