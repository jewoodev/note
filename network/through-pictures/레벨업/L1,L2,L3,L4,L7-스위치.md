# L1, L2, L3, L4, L7 스위치
L1 스위치는 레이어 1 스위치의 약자로 OSI의 1계층, 즉 물리 계층의 스위치를 말한다. 1계층에는 스위치가 없지 않나? 라는 생각이 든다면 자연스러운 것이다. 스위치는 2계층에 속하는 장비이기 때문이다. 우리가 의문이 들었듯이 1계층에는 스위치가 존재하지 않지만, L1 스위치라고 하면 **허브**를 말하는 것이다. 

L2 스위치는 레이어 2에 있는 **스위칭 허브**를 말한다. L3 스위치는 레이어 3에 있는 **라우터**를 말한다. 

L4 스위치는 레이어 4계층의 기술을 사용하는 라우터를 말한다. 즉, 트랜스포트 계층의 포트까지 구분해서 부하를 나눌 수 있는 **로드밸런싱 기능이 탑재된** 라우터이다.

L7 스위치는 포트뿐만 아니라 애플리케이션 단에 있는 패킷의 데이터를 구분해 부하를 나눌 수 있는 로드밸런싱 기능을 제공한다.

# 로드밸런싱이란?
Load(부하)를 밸런스있게 나누는 것을 말한다. 

## L4 스위치에서의 로드밸런싱
L4 스위치에서 로드밸런싱은 NAT을 이용해 수행한다.

1. L4 스위치는 클라이언트가 보낸 'IP 주소'와 '포트 번호'를 보고
   1. 즉, 트랜스포트 계층까지의 정보를 활용해
   2. 어떤 서버로 세그먼트를 보낼지 결정하는 작업과 부하를 분산시키는 작업을 수행한다.

## L7 스위치에서의 로드밸런싱
L7 스위치는 IP와 포트뿐만 아니라 애플리케이션의 데이터를 참조해 더 세심하게 트래픽을 분산시킨다. 하지만 애플리케이션의 암호화때문에 모든 데이터는 볼 수 없어서 일부만 참조해 분산시킨다.

- 클라이언트가 HTTP 요청을 했다면 IP와 포트, 그리고 HTTP 요청 헤더를 보고 판단한다.
  - 1.2.3.4 서버에 80번 포트에 `/users/123`으로 GET 요청을 보내면 유저 정보를 조회하는 요청이라는 것을 인지하고 유저 조회를 담당하는 서버로 라우팅한다.
  - `/pictures/123`으로 GET 요청을 보내면 사진을 조회하는 요청이라고 인지하고 사진 조회를 담당하는 서버로 라우팅한다.
