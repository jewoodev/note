# IP
허브와 스위치로 연결되어 하나의 브로드캐스트 도메인으로 구성되는 네트워크에서는 MAC 주소만으로 통신할 수 있었다. 하지만 네트워크가 커지면서 너무 많은 브로드캐스팅때문에 트래픽이 증가하는 문제가 생겨났고, 이를 해결하기 위해 논리적인 주소(IP)가 만들어지게 되었다. 

IP 주소는 모든 호스트와 라우터에 할당된다. 라우터는 IP 주소를 활용해 다른 네트워크에 있는 호스트까지 데이터를 정확하게 전송할 수 있게 해준다. 

## 일상에 비유해서 알아보기
서울에 사는 홍길동이 부산에 사는 임꺽정을 만나러 가려고 한다. 서울 부산 직행은 없고 대전, 대구를 거쳐가야 하는 상황이라고 가정하자.

1. 홍길동은 서울버스터미널로 가기 위해 택시를 타고 택시기사님에게 서울버스터미널로 가달라고 한다.
   1. 출발지 IP 주소에 홍길동 집, 목적지 IP 주소엔 임꺽정 집, 
   2. 출발지 MAC 주소는 홍길동 집주소인 서울 강남구 테헤란로 1길 23
   3. 목적지 MAC 주소는 서울버스터미널이 적혀 택시가 출발한다.
2. 서울버스터미널에 내린 홍길동은 매표소에 "임꺽정 집으로 갈 건데 표 하나 주세요." 라고 한다.
   1. 놀랍게도 매표소에는 임꺽정의 개인정보가 저장되어 있어 직원은 "임꺽정 집으로 가려면 대전행 버스를 타시면 됩니다." 라고 한다.
   2. 여기서 매표소를 라우터라고 부르고 매표소에 개인정보가 저장되어 있는 것을 **라우팅 테이블**이라고 한다. 
3. 버스를 타고 대전버스터미널에 내리고, 홍길동은 매표소에 가서 동일하게 말하고 직원은 대구행 버스를 타면 된다고...
4. 그런 절차를 거쳐 이동해서 부산버스터미널의 매표소 직원에게 "임꺽정 집으로 갈 건데 표 하나 주세요." 라고 한다.
   1. 라우터는 라우팅 테이블을 참조해 홍길동에게 "임꺽정 씨는 해운대구 123번 길 456에 살고 있네요. 터미널 앞의 택시정류장에서 택시를 타고 이 주소로 가달라고 하세요." 라고 한다.
   2. 택시에 타서 그렇게 홍길동이 기사님께 말하면 출발지 MAC 주소는 부산버스터미널, 목적지 MAC 주소는 해운대구 123번 길 456가 된다.

이렇게 IP 주소는 최초 출발지와 최종 목적지를 나타내고 MAC 주소를 이용해 실제로 데이터를 전송하기 때문에 중간에 몇 개의 라우터를 거쳐가야 하건 목적지까지 정확하게 데이터가 전송될 수 있다. 

## IP 주소의 생김새
IP 주소는 32비트로 이루어져 있다. 8비트로 4개로 나눠 그 사이에 점으로 끊고 각 8비트를 십진수로 표현한다.