# L1, L2 기술의 한계 -> IP의 탄생 
스위치끼리 연결되어 커진 브로드캐스트 도메인은 많은 트래픽이 발생하기 때문에 어떻게든 브로드캐스팅을 나눠줘야할 것 같다. 여기서 어떤 장치(블랙박스)를 만들어 브로드캐스트 도메인을 나눴다고 가정하자. 그러면 미국에 사는 짱구와 철수가 통신하더라도 한국에 사는 우리에게는 브로드캐스팅 메세지가 전달되지 않을 것이다. 그런데 우리가 짱구와 통신을 하려고 한다면 어떻게 될까? 이더넷 프레임의 출발지 MAC 주소엔 우리의 MAC 주소, 목적지 MAC 주소엔 짱구의 MAC 주소를 적고 스위치로 전송할 것이다. 그러면 스위치는 자신의 MAC 주소 테이블에 '프레임의 목적지 MAC 주소'와 일치하는 주소가 없으므로 flooding을 한다. 그럼 블랙박스로 데이터가 전송되지만 블랙박스는 자신의 MAC 주소와 달라서 버린다. 즉, 짱구와는 통신을 할 수 없는 것이다. 

그래서 사람들은 물리적인 주소(MAC 주소) 외에 논리적인 주소(**IP 주소**)를 추가로 만들어야 겠다는 생각을 하게 된다. 그리고 브로드캐스트 도메인을 나누는 어떤 장치에 **라우터**라는 이름을 붙이고 IP 주소를 활용해 LAN 영역 간 통신을 가능하도록 만들었다. IP 주소 덕분에 다른 네트워크에 있는 컴퓨터를 정확하게 나타낼 수 있게 되었고, 라우터가 복잡한 네트워크에서 경로를 지정해주게 되었다. 

라우터는 여러 개의 포트를 가지고 있어, 포트마다 MAC 주소와 IP 주소가 할당된다. 그래서 브로드캐스트 도메인을 나누는 라우터에는 우리가 속한 LAN 영역과 연결되는 포트가 있고 짱구가 속한 LAN 영역과 연결되는 포트가 있다. 라우터는 우리가 브로드캐스트한 세그먼트의 목적지 IP 주소를 보고 목적지 MAC 주소를 짱구의 MAC 주소로 바꾸고 짱구의 LAN 영역에 있는 스위치로 전송한다.

네트워크 계층은 이렇게 다른 LAN 영역과의 네트워크 통신을 위해 논리적인 IP 주소와 라우터라는 장치를 이용하는 계층이다. 실제 데이터 전송을 데이터링크 계층(, 즉 MAC 주소)으로 하는 것과 달라진 것은 없지만 데이터링크 계층의 한계를 극복하게 해줬다. 

라우터를 넘어가지 않는 영역을 LAN 영역, 넘어가는 영역을 WAN 영역이라고 부른다. 
