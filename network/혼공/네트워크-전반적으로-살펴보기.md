네트워크는 그래프의 형태를 띄고 있다. 그래프란 노드와 노드를 연결하는 간선으로 이루어진 자료 구조이다. 여기서 자료 구조란 정보를 저장하고 다루는 방법을 의미한다.

## 1. 네트워크의 기본 구조

모든 네트워크는 '노드', 노드를 연결하는 '간선', 노드 간 주고받는 '메세지'로 구성된다. 노드는 정보를 주고받을 수 있는 장치, 간선은 정보를 주고받을 수 있는 유무선의 통신 매체라고 이해하면 쉽다.

### (1) 호스트

네트워크의 가장자리에 위치한 노드는 네트워크를 통해 흐르는 정보를 최초로 생성 및 송신하고, 최종적으로 수신한다. 이는 서버 컴퓨터가 될 수도 있고, 개인 데스크톱, 노트북, 스마트폰이 될 수도 있다. 요즘은 종류가 더 다양해져서 시계, 자동차, 냉장고, TV 등이 될 수도 있다. 우리가 일상에서 사용하는 네트워크 기기 대부분이 여기에 속한다고 봐도 무방하다. 이러한 가장자리 노드를 네트워크에서는 호스트라고 부른다.

> 호스트는 네트워크 가장자리에 자리 잡고 있다는 점에서 종단 시스템(end system)이라고도 한다.

때로 호스트가 네트워크 상에서 특정한 역할을 수행하기도 하는데, 그러한 역할에는 대표적으로 서버와 클라이언트 역할이 있다.

서버는 '어떠한 서비스'를 제공하는 호스트이다. 여기서 '어떠한 서비스'는 파일이 될 수도(파일 서버), 웹 페이지가 될 수도(웹 서버), 메일이 될 수도(메일 서버) 있다.

반면 클라이언트는 서버에게 어떠한 서비스를 요청하고 서버의 응답을 제공받는 호스트이다.

### (2) 네트워크 장비

네트워크 노드가 호스트만 있는 것은 아니다. 네트워크 가장자리에 위치하지 않은, 호스트 간 주고받을 정보가 중간에 거치는 노드도 있다. 이를 중간 노드라고 하는데, 대표적으로 허브, 스위치, 라우터, 공유기 등이 있다. 이 책에서는 중간 노드들을 **네트워크 장비**라 부를 것이다. 네트워크 장비는 호스트 간에 주고받는 정보가 원하는 수신지까지 안정적으로 전송될 수 있도록 한다.

### (3) 통신 매체

그래프는 노드와 이를 연결하는 간선(링크)으로 이루어지기에, 호스트와 네트워크 장비 또한 유무선 매체를 통해 연결되어 있어야 한다. 이렇게 각 노드를 연결하는 간선이 바로 통신 매체이다. 이 통신 매체에는 노드들을 유선으로 연결하는 유선 매체, 무선으로 연결하는 무선 매체가 있다.

### (4) 메세지

통신 매체로 연결된 노드가 주고받는 정보를 메세지라 한다. 메세지는 웹 페이지가 될 수도, 파일이 될 수도, 메일이 될 수도 있다.

---

## 2. 범위에 따른 네트워크 분류

이런 요소들이 모여 형성된 네트워크의 범위는 어느 정도일까? 호스트가 메세지를 주고받는 범위는 일반 가정이 될 수도 있고, 기업이 될 수도 있고, 도시나 국가가 될 수도 있다.

네트워크 구성 범위가 다양한 만큼, 네트워크를 범위에 따라 분류하는 기준도 존재한다. 네트워크는 범위에 따라 크게 LAN과 WAN으로 구분한다.

### (1) LAN

LAN은 Local Area Network의 약자로 가까운 지역을 연결한 근거리 통신망을 의미한다. 예를 들어 가정, 기업, 학교처럼 한정된 공간에서의 네트워크를 LAN이라 한다.

### (2) WAN

Wide Area Network의 약자로 먼 지역을 연결하는 광역 통신망을 의미한다. 멀리 떨어진 LAN을 연결할 수 있는 네트워크가 바로 WAN이다. 인터넷이 WAN으로 분류된다.

우리가 인터넷을 사용하기 위해 접속하는 WAN은 ISP$^{Internet\ Service\ Provider}$라는 인터넷 서비스 업체가 구축하고 관리한다.

ISP는 사용자에게 인터넷같은 WAN에 연결 가능한 회선을 임대하는 등 WAN과 관련된 다양한 서비스를 제공한다. 인터넷을 사용하기 위해 ISP와 계약해서 인터넷 사용 요금을 내는 것은 이러한 이유 때문이다.

인터넷이 아니더라도 멀리 떨어진 LAN에 연결하기 위해 특정 조직에서 불특정 다수에게 공개되지 않능 WAN을 얼마든지 구축할 수 있다.

---

## 3. 메세지 교환 방식에 따른 네트워크 분류

네트워크로 메세지를 주고받는 방식은 대표적으로 회선 교환 방식과 패킷 교환 방식으로 나눌 수 있다. 각 방식을 사용하는 네트워크를 각각 회선 교환 네트워크, 패킷 교환 네트워크라고 한다.

### (1) 회선 교환 방식

이 방식은 먼저 메세지 전송로인 회선$^{circuit}$을 설정하고 이를 통해 메세지를 주고받는 방식이다.
'회선을 설정한다'라는 말은 '두 호스트가 연결되었다', '전송로를 확보하였다'라는 말과도 같다.
회선 교환 네트워크에서는 호스트들이 메세지를 주고받기 전에 두 호스트를 연결한 후, 연결된 경로로 메세지를 주고받는다.

회선 교환 방식은 우선 두 호스트 사이의 연결을 확보한 후 메세지를 주고받는 특성 덕분에 주어진 시간 동안 전송되는 **정보의 양이 비교적 일정**하다는 장점이 있다.

회선 교환 네트워크가 올바르게 동작하기 위해서는 호스트 간의 회선을 적절하게 설정해야 한다.
이 역할을 수행하는 회선 교환 네트워크 장비로는 **회선 스위치**가 있다. 즉, 회선 스위치는 호스트 사이의 일대일 전송로를 확보하는 네트워크 장비이다.

이 방식의 대표적인 사례가 바로 전통적인 전화망이다.
누군가에게 전화를 걸면 수신자가 받기 전에 송신자와 수신자 사이에 연결이 설정되어야 하고, 한 번 연결이 설정되면 연결된 전송로를 통해서만 통화가 가능해진다.

이런 회선 교환 방식에는 한 가지 문제가 있다. 회선의 **이용 효율이 낮아**질 수 있다는 것이다. 가능한 모든 회선에 끊임없이 메세지가 흐르고 있어야만 회선의 이용 효율이 높아진다. 반대로 메세지를 주고받지 않으면서 회선을 점유하는 것은 낭비라고 볼 수 있다.

### (2) 패킷 교환 방식

패킷 교환 방식은 회선 교환 방식의 문제점을 해결한 방식으로, 메세지를 패킷이라는 **작은 단위로 쪼개**어 전송한다.
여기서 패킷은 패킷 교환 네트워크상에서 송수신되는 **메세지의 단위**이다. 현대 인터넷은 이 방식을 이용한다.

만약 패킷 교환 방식으로 5GB 크기의 영화 파일을 다운로드한다면, 패킷의 크기만큼 분할되어 전송된다. 그리고 이렇게 쪼개진 패킷들은 수신지인 우리의 컴퓨터에 도달한 뒤 **재조립**된다.

패킷 교환 네트워크는 회선 교환 네트워크와 다르게 메세지를 송수신하는 두 호스트가 하나의 전송 경로를 점유하지 않기에 **네트워크 이용 효율이 상대적으로 높다**.

만약 패킷이 패킷 교환 네트워크를 통해 지구 반대편에 있는 먼 곳까지 이동한다면 어떨까?

사전에 설정된 경로만으로 통신하는 회선 교환 방식과는 달리, 패킷 교환 방식은 정해진 경로만으로 메세지를 송수신하지 않는다.
다양한 중간 노드를 거칠 수 있는데, 이때 중간 노드인 **패킷 스위치**는 패킷이 수신지까지 올바르게 도달할 수 있도록 최적의 경로를 결정하거나 패킷의 송수신지를 식별한다.
대표적인 패킷 스위치 네트워크 장비로는 **라우터**와 **스위치**가 있다.

패킷 교환 방식에서 패킷은 본래 소포, 꾸러미라는 뜻으로 택배와 비슷한 개념이다.
택배를 보내기 위해 상자에 물품을 담고 송장에 보내는 주소와 받을 주소, 보내는 사람과 받는 사람 등 **부가 정보**를 적는다. 이런 과정이 선행되어야 올바르게 배송이 될 수 있다.

네트워크의 패킷도 마찬가지이다.
패킷을 통해 전송하고자 하는 데이터를 **페이로드**라고 한다. 택배 상자에 넣을 물품이라고 생각해도 좋다.
그리고 페이로드와 더불어 **헤더**라는 정보도 패킷 앞에 포함된다. 때로는 패킷 뒤에 트레일러라는 정보가 포함되기도 한다.

**헤더**와 **페이로드**는 패킷에 붙는 일종의 부가 정보, 내지는 제어 정보이다.
즉, 페이로드가 택배 안에 담을 물품이라면, 헤더와 트레일러는 송장과 같다.

패킷의 헤더에 담기는 대표적인 정보로는 **주소**가 있다. 주소는 송수신지를 특정하는 정보를 의미한다.

패킷의 헤더에 송수신지를 특정할 수 있는 주소가 있다면 송수신지 유형에 따라 다양한 방식으로 메세지를 보낼 수 있게 된다.
가령 수신지를 특정 호스트 **하나**로 지정할 수 있고, 네트워크 내 **모든** 호스트로 지정할 수도 있다. 또 수신지를 자신과 **동일한 그룹**에 속한 호스트로 지정할 수도 있다.

송수신지 유형별 전송 방식은 다양한 종류가 있지만, 네트워크의 기본 동작을 파악하기 위해 알아야 할 가장 중요한 전송 방식은 **유니캐스트**와 **브로드캐스트**이다.

먼저 유니캐스트는 가장 일반적인 형태의 송수신 방식으로, 하나의 수신지에 메세지를 전송하는 방식이다. 송신지와 수신지가 **일대일**로 메세지를 주고받는 경우다.

브로드캐스트는 자신을 제외한 네트워크 상의 모든 호스트에 전송하는 방식이다.
그리고 브로드캐스트가 전송되는 **범위**를 **브로드캐스트 도메인**이라 한다.

이 외에도 네트워크 내의 동일 그룹에 속한 호스트에게만 전송하는 멀티캐스트, 네트워크 내의 동일 그룹에 속한 호스트 중 가장 가까운 호스트에게 전송하는 방식인 애니캐스트 등 다양한 방식이 있다.

## 참고자료

- [혼자 공부하는 네트워크](https://product.kyobobook.co.kr/detail/S000212911507)