# 데이터베이스 기본 키 선택 전략

데이터베이스 기본 키는 다음 세가지 조건을 모두 만족해야 한다.

1. `null`값은 허용하지 않는다.
2. 유일해야 한다.
3. 변해선 안 된다.

이런 기본 키를 선택하는 전략은 크게 두가지가 있다.

1. 자연 키(natural key)
    - 비즈니스에서 의미를 갖는 키 (ex: 주민등록번호, 이메일)
2. 대리 키(surrogate key)
    - 비즈니스와 관련 없는 임의로 만들어진 키, 대체 키라고도 불린다. (ex: 오라클 시퀀스, auto_increment, identity, 키 생성 테이블 사용)

둘 중 어느 것을 선택하는 것이 더 좋을지에 대해선 다양한 상황에 따라 달라질 문제이지만, 가능하다면 대리 키의 사용이 권장된다.

자연 키는 비즈니스와 관련되어있기 때문에 요구사항에 따라서 어떤 변화가 요구되어질지 모른다. 기본 키는 여러 테이블에서 외래 키로 쓰이기 때문에 이를 수정해야 하는 상황이 찾아오면 작업 반경이 분명 커다랄 것이다. 대리 키는 이런 상황을 방지하기 때문에 권장되는 것이다. 

대리 키를 기본 키로 사용하되 주민등록번호 같은 자연 키의 후보가 되는 컬럼들은 필요에 따라 유니크 인덱스를 걸어주면 좋을 것이다.

# 참고 자료
- [김영한님의 스프링 DB 1편](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-db-1/dashboard)