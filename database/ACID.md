# ACID
ACID(원자성, 일관성, 독립성, 지속성)는 데이터베이스 트랜잭션이 안전하게 수행된다는 것을 보장하기 위한 성질을 가리키는 약어이다. 짐 그레이는 1970년대 말에 신뢰할 수 있는 트랜잭션 시스템의 이러한 특성들을 정의하였으며 자동으로 이들을 수행하는 기술을 개발해 냈다.

## Atomicity
원자성은 트랜잭션과 관련된 작업들이 부분적으로 실행되다가 중단되지 않는 것을 보장한다는 것을 의미한다. 예를 들어, 자금 이체는 성공할 수도 실패할 수도 있지만 보내는 쪽에서 돈을 빼 오는 작업만 성공하고 받는 쪽에 돈을 넣는 작업을 실패해서는 안된다. 원자성은 이와 같이 중간 단계까지 실행되고 실패하는 일이 없도록 하는 것이다.

## Consistency
일관성은 트랜잭션 처리 전과 처리 후 데이터 모순이 없는 상태를 유지하는 것을 의미한다. 예를 들어, 무결성 제약 때문에 모든 은행 계좌에 잔고가 있어야 한다면 이를 위반하는 트랜잭션은 중단되어야 한다.

트랜잭션 전후로 데이터베이스는 항상 일관된 상태를 유지한다는 것을 의미한다. 정의된 제약조건(PK, FK, Unique, Check 등)이 위반되지 않아야 하고, 비즈니스 규칙도 유지되어야 한다. 예를 들어 이체 후에도 두 계좌의 잔액 합계는 동일해야 한다.

## Isolation
동시에 실행되는 트랜잭션들이 서로 영향을 주지 않아야 한다. MySQL InnoDB는 4단계 격리 수준을 제공한다:

1. READ UNCOMMITTED: Dirty Read 허용, 거의 사용하지 않음 
2. READ COMMITTED: 커밋된 데이터만 읽음 (Oracle 기본값)
3. REPEATABLE READ: 트랜잭션 내 같은 쿼리는 같은 결과 보장 (MySQL InnoDB 기본값, MVCC + Gap Lock으로 Phantom Read도 대부분 방지)
4. SERIALIZABLE: 완전 직렬화, 성능 가장 낮음

격리 수준이 높을수록 정합성은 좋지만 동시성(성능)이 떨어지므로 트레이드오프가 있다.

## Durability
트랜잭션이 커밋되면 그 결과는 영구적으로 보존되어야 한다. 시스템 장애가 발생해도 데이터가 유실되지 않아야 한다. MySQL에서는 Redo Log(WAL)와 `innodb_flush_log_at_trx_commit` 설정을 통해 이를 보장한다. 이 값이 1이면 매 커밋마다 디스크에 flush하여 가장 안전하고, 0이나 2로 설정하면 성능은 올라가지만 장애 시 최대 1초 분량의 데이터 유실 가능성이 있다.