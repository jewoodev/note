플라스크는 Spring과는 다르게 애플리케이션 컨텍스트를 관리한다. 그 차이를 이해해보자.

## 1. Spring

- Spring은 애플리케이션 컨텍스트를 싱글톤으로 관리
- 애플리케이션 시작 시 컨텍스트가 초기화되고 전체 애플리케이션 생명주기 동안 유지
- `@Schedule` 메서드나 다른 백그라운드 작업에서도 이미 초기화된 컨텍스트에 접근 가능

예시:

```java
@Scheduled(fixedRate = 1000)
public void scheduledTask() {
    // Spring 컨텍스트가 이미 존재하므로 별도의 컨텍스트 설정 불필요
    userRepository.findAll();
}
```

## 2. Flask

- Flask는 요청-응답 사이클에 기반한 컨텍스트 관리
- 각 요청마다 새로운 컨텍스트가 생성되고 소멸
- 백그라운드 작업에서는 요청 컨텍스트가 없으므로 명시적으로 컨텍스트 생성 필요

예시:

```python
def scheduled_task():
    with app.app_context():  # 명시적 컨텍스트 생성 필요
        db.session.query(User).all()
```

## 3. 이런 차이가 있는 이유

1. **설계 철학**:
   - Spring: 엔터프라이즈급 애플리케이션을 위한 프레임워크로, 전역적인 상태 관리에 중점
   - Flask: 마이크로 프레임워크로, 가볍고 유연한 설계에 중점

2. **컨텍스트 관리**:
   - Spring: 애플리케이션 시작 시 모든 빈과 설정이 로드되어 전역적으로 사용 가능
   - Flask: 요청별로 컨텍스트를 생성하여 리소스 관리와 격리를 보장

3. **스레드 안전성**:
   - Spring: 빈의 스코프를 통해 스레드 안전성 관리
   - Flask: 요청 컨텍스트를 통해 스레드 안전성 관리

따라서, Spring에서는 스케줄링 메서드에서 별도의 컨텍스트 설정이 필요 없는 반면, Flask에서는 백그라운드 작업에서 명시적으로 컨텍스트를 생성해야 한다. 
