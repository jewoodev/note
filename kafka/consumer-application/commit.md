<img src="https://github.com/jewoodev/blog-img/blob/main/2024-05-03-%EC%95%84%ED%8C%8C%EC%B9%98_%EC%B9%B4%ED%94%84%EC%B9%B4_%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_%EC%9D%B8%EA%B0%95_%EC%A0%95%EB%A6%AC/image-20240506152323146.png?raw=true" alt="image-20240506152323146" style="zoom:50%;" />

컨슈머는 카프카 브로커로부터 데이터를 어디까지 가져갔는지 커밋(commit)을 통해 기록한다. 특정 토픽의 파티션을 어떤 컨슈머 그룹이 몇 번째까지 가져갔는지 카프카 브로커 내부에서 사용되는 내부 토픽(`__consumer_offsets`)에 기록된다. 컨슈머 동작 이슈가 발생하여 `__consumer_offsets` 토픽에 어느 레코드까지 읽어갔는지 오프셋 커밋이 기록되지 못했다면 데이터 처리의 중복이 발생할 수 있다. 그러므로 데이터 처리의 중복이 발생하지 않게 하기 위해서 컨슈머 애플리케이션이 오프셋 커밋을 정상적으로 처리했는지 검증해야만 한다.