# Test Fixture 구성 시 유의할 점

테스트를 작성할 때 반복되는 코드를 줄이고자 테스트에 필요한 데이터 세팅 로직을 중앙 관리하는 전략을 쓰게 되면 "테스트가 문서로써 기능하는 데에 지장이 없는 가?" 라는 질문에 없다고 대답할 수 있는지 생각해봐야 한다.

테스트는 애플리케이션이 어떤 동작과 어떤 엣지 케이스를 가지는지를 포함하는 포괄적인 정보를 담고 있는 하나의 문서로 쓸모를 가질 수 있다. 이 역할이 중요하기 때문에 이러한 쓸모를 유지할 수 있도록 유의하자.

자바/스프링에서는 `@BeforeEach`를 사용한 셋업 메서드로 대신할 수 있는데, 문서가 길어지면 문서 하단에 위치하는 메서드가 어떤 데이터를 가지고 테스트를 진행하는지 확인하기 위해 스크롤을 매우 놀려야 할 필요가 생긴다. data.sql을 썼다면 파일 두 개를 왔다갔다 볼 필요가 생긴다. 각 테스트가 하나의 문서로써 쓸모를 다 하지 못하고 다른 문서를 참고할 필요가 생기는 것이다.

그리고 data.sql을 사용해서도 Test Fixture를 구성하는 방법은 데이터의 파편화 현상을 야기해 유지보수할 때 장애 포인트가 된다.