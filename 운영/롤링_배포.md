# 롤링 배포

롤링 배포는 전체 시스템을 중단하지 않고 새로운 버전을 점진적으로 배포하는 방법이다.

시스템을 중단하지 않고 배포하는 건 운영 중인 서버에 꼭 필요한 포인트이다. 사용자가 계속 있는데 서버를 다운시키는 것은 사용자에게 불편을 줄 수 있기 때문이다.

롤링 배포는 여러 대의 서버에 새로운 버전을 하나씩 배포한다. 그렇게 하나씩 서버를 내려서 배포하고 CD 테스트를 통과했을 때 다음 서버로 넘어가고, 통과하지 못하면 롤백시키고 배포를 중단한다. 이렇게 하나씩 배포하면서 서버를 내리고 올리는 과정을 롤링이라고 한다.

롤링 배포 방식 특성 상 자신의 차례가 아닌 다른 서버가 여전히 대신할 수 있어 시스템이 중단되지 않고(가용성을 유지하면서) 배포할 수 있다. 

## 장점

1. 방식 특성 상 전체 시스템이 다운되거나 운영자에게 불편이 생기는 일이 잘 없다.
2. 점진적으로 적용하기에 리스크를 최소화할 수 있다.
   1. CD 테스트가 걸러내지 못한 문제가 있더라도 일부 서버만 배포된 상태라면, 배포되지 않은 서버 쪽으로 들어온 사용자는 정상적으로 서비스를 받을 수 있다. 

## 단점

1. 배포 속도가 느리다. 시스템이 크면 클수록 더 느려진다.
2. 동시에 서로 다른 버전으로 서비스가 될 수 있다. 이게 문제가 되지 않는 서비스도 있지만 되는 서비스도 있다.
   1. DB 스키마가 크게 바뀐다던가 API 간 호환이 안 되는 문제가 있다면 동시에 배포되어야 할 것이다.