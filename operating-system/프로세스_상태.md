# 프로세스 상태

문맥 교환이 일어나는 과정에서 하나의 프로세스는 여러 상태를 거쳐가며 실행된다. 그리고 운영체제는 프로세스의 상태를 PCB를 통해 인식하고 관리한다.

프로세스 상태를 표현하는 방식은 운영체제마다 조금씩 다르지만 대표적인 것들은 아래와 같다.

## 생성 상태

프로세스를 생성 중인 상태를 **생성 상태**(new)라고 한다. 더 상세하게 말하면 이제 막 메모리에 적재되어 PCB를 할당받은 상태이다. 이 상태를 거쳐 실행할 준비가 된 프로세스는 곧바로 실행되지 않고 준비 상태가 되어 CPU의 할당을 기다린다.

## 준비 상태

**준비 상태**(ready)는 당장이라도 CPU를 할당받아 실행할 수 있지만, 아직 자신의 차례가 아니기 때문에 기다리고 있는 상태이다. 준비 상태 프로세스는 차례가 되면 CPU를 할당받아 실행 상태가 된다.

## 실행 상태

**실행 상태**(running)는 CPU를 할당받아 실행 중인 상태를 의미한다. 실행 상태인 프로세스는 할당된 일정 시간 동안만 CPU를 사용할 수 있다. 이때 프로세스가 할당된 시간을 모두 사용한다면(타이머 인터럽트가 발생하면) 다시 준비 상태가 되고, 실행 도중 입출력장치를 사용해 입출력 작업이 끝날 때까지 기다려야 한다면 대기 상태가 된다.

## 대기 상태

프로세스는 실행 도중 입출력 장치를 사용하는 경우가 있는데, CPU의 작업 속도보다 입출력 작업 속도가 느리고 그동안 CPU는 필요없기 때문에 입출력 작업을 요청한 프로세스는 입출력 작업이 끝날 때까지(입출력 완료 인터럽트를 받을 때까지) CPU를 반환하고 기다려야 한다. 이렇게 입출력 장치의 작업이 끝나기를 기다리는 상태를 **대기 상태**(blocked)라고 한다. 입출력 작업이 완료되면 해당 프로세스는 다시 준비 상태로 CPU 할당을 기다린다.

> 프로세스가 대기 상태가 되는 이유에 입출력 작업만 있는 건 아니다. 더 일반적으로 표현하면 특정 이벤트가 일어나길 기다릴 때 프로세스는 대기 상태가 된다. 다만 대부분이 입출력 작업을 이유로 대기 상태가 되므로 위처럼 표현해도 무방하다.

## 종료 상태

**종료 상태**(terminated)는 프로세스가 종료된 상태이다. 프로세스가 종료되면 운영체제는 PCB와 프로세스가 사용한 메모리를 정리한다.

## 프로세스 상태의 관계도

![img.png](https://github.com/jewoodev/blog_img/blob/main/operating-system/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4_%EC%83%81%ED%83%9C_%EA%B4%80%EA%B3%84%EB%8F%84.png?raw=true)