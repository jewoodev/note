# 스프링 부트가 제공하는 외부 설정 기능

하나의 어플리케이션을 용도에 따라 다르게 운영해야 할 때가 있다. 예를 들어, 운영 서버와 개발 서버로 나누어서 서로 다른 DB에 연결해야할 필요가 있는 때이다.

이걸 어플리케이션 안에서 해결하려면 운영 서버에는 운영 서버에 맞는 세팅을 해서 빌드해서 배포하고, 개발 서버에도 그렇게 해야해서 두 번의 일을 해야 한다.  
스프링 부트는 이런 경우에 유연하게 대처할 수 있게 외부 설정 기능을 제공한다. 외부에서 이 애플리케이션이 어떻게 설정되어야 하는지 판단해서 설정해주는 기능이다.

위 예시의 설정값 뿐 아니라 다양한 설정들을 통합하여 설정할 수 있게 하기 때문에 개발자의 작업을 편리하게 하는, 추상화가 잘 활용되었다고 느껴진다.

## 스프링이 제공하는 커맨드 라인 옵션 인수

자바 소스를 실행할 때 인수를 key-value 형태로 넣고 싶을 때가 있지만 자바는 문자열로 밖에 인지를 하지 않아서 만약에 하려고 한다면 `=`를 구분자로 나눠 Map에 매핑해서 각각 집어넣어야 한다.  
스프링은 이럴 때 편하게 사용하도록 인수를 key-value 형태로 넣을 수 있게 해준다. 인수앞에 `--`을 붙여주면 된다.

## 스프링이 해주는 외부 설정 통합

스프링은 커맨드 라인 인수, 자바 시스템 옵션 인수, OS 환경변수, 설정 데이터값들을 통합해서 `Environment` 라는 빈으로 등록해준다. 위에서 설명한, 개발하면서 필요할 기능들을 추상화해서 제공하면서 외부에서 설정값을 가져올 수 있는 여러가지 창구를 통합해서 추상화함으로써 개발자가 하나의 창구에서 모든 프로퍼티에 접근할 수 있게 하는 우아한 설계이다.  

뿐만 아니라 개발자가 원하면 확장할 수 있게 확장성도 고려되어있으며 공통적으로 필요로 하는 것들은 이미 구현해 가져다 쓸 수 있게 해두었다. 

# 참고 자료
- [김영한님의 스프링 DB 1편](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-db-1/dashboard)